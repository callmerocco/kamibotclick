<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KamiBot | Enterprise Link Infrastructure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style type="text/tailwindcss">
        @layer utilities {
            .glass-card { @apply bg-slate-900/60 backdrop-blur-2xl border border-white/5 shadow-2xl; }
            .btn-primary { @apply bg-blue-600 hover:bg-blue-500 shadow-xl shadow-blue-500/20 active:scale-95 transition-all text-white font-bold; }
            .gradient-text { @apply bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-indigo-400 to-emerald-400; }
        }
        body { background: #020617; color: #f8fafc; font-family: 'Plus Jakarta Sans', sans-serif; scroll-behavior: smooth; }
        .hero-mesh { background-image: radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), radial-gradient(at 50% 0%, hsla(225,39%,30%,1) 0, transparent 50%), radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%); }
    </style>
</head>
<body class="selection:bg-blue-500/30">

    <div id="toast-container" class="fixed top-8 left-1/2 -translate-x-1/2 z-[200] flex flex-col gap-3 w-full max-w-xs pointer-events-none"></div>

    <div id="landingPage" class="relative overflow-hidden hero-mesh">
        <nav class="sticky top-0 z-[100] backdrop-blur-lg border-b border-white/5 p-6">
            <div class="max-w-7xl mx-auto flex justify-between items-center">
                <div class="text-2xl font-black italic tracking-tighter uppercase">KAMI<span class="text-blue-500">BOT</span></div>
                <div class="hidden md:flex gap-10 text-[10px] font-black uppercase tracking-widest text-slate-400">
                    <a href="#features" class="hover:text-white transition-colors">Infrastructure</a>
                    <a href="#solutions" class="hover:text-white transition-colors">Solutions</a>
                    <a href="#network" class="hover:text-white transition-colors">Global Network</a>
                </div>
                <button onclick="toggleAuthModal(true)" class="bg-white text-black px-8 py-3 rounded-full text-[10px] font-black uppercase tracking-widest hover:scale-105 transition-all">Launch Console</button>
            </div>
        </nav>

        <section class="max-w-7xl mx-auto px-6 py-32 text-center md:text-left flex flex-col md:flex-row items-center gap-16">
            <div class="flex-1">
                <div class="inline-block px-4 py-2 rounded-full bg-blue-500/10 border border-blue-500/20 text-blue-400 text-[10px] font-black uppercase tracking-[0.3em] mb-6">Built for the 1%</div>
                <h1 class="text-6xl md:text-8xl font-extrabold tracking-tighter leading-[0.9] mb-8">Scale Your <br><span class="gradient-text italic">Digital Reach.</span></h1>
                <p class="text-slate-400 text-lg md:text-xl max-w-xl mb-12 font-medium">Enterprise link management, advanced security tunneling, and real-time monetization for high-traffic creators.</p>
                <div class="flex flex-col sm:flex-row gap-4">
                    <button onclick="toggleAuthModal(true)" class="btn-primary px-10 py-5 rounded-2xl text-sm uppercase tracking-widest">Get Started Free</button>
                    <button class="bg-white/5 border border-white/10 px-10 py-5 rounded-2xl text-sm font-bold uppercase tracking-widest hover:bg-white/10 transition-all">View Documentation</button>
                </div>
            </div>
            <div class="flex-1 w-full glass-card p-4 rounded-[3rem] rotate-3 hover:rotate-0 transition-transform duration-700">
                <div class="bg-slate-950 p-6 rounded-[2.5rem]">
                    <div class="flex gap-2 mb-4">
                        <div class="w-3 h-3 rounded-full bg-red-500"></div>
                        <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                        <div class="w-3 h-3 rounded-full bg-green-500"></div>
                    </div>
                    <div class="space-y-3 opacity-50 font-mono text-xs">
                        <p class="text-green-500">> Initiating Protocol...</p>
                        <p>> SSL_HANDSHAKE_COMPLETE</p>
                        <p class="text-blue-400">> ROUTING_TRAFFIC via GLOBAL_EDGE_1</p>
                        <p class="text-emerald-500">> LATENCY: 0.002ms</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="features" class="max-w-7xl mx-auto px-6 py-40 border-t border-white/5">
            <h2 class="text-4xl font-black mb-20 text-center tracking-tighter">ENGINEERED FOR PERFORMANCE</h2>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="glass-card p-10 rounded-[2.5rem] group hover:border-blue-500/50 transition-all">
                    <div class="w-14 h-14 bg-blue-600/10 rounded-2xl mb-6 flex items-center justify-center text-blue-500">‚ö°</div>
                    <h3 class="font-black mb-4 uppercase tracking-widest text-sm text-white">Edge Acceleration</h3>
                    <p class="text-slate-500 text-sm leading-relaxed">Global CDN routing ensures your links resolve in under 10ms, anywhere on earth.</p>
                </div>
                <div class="glass-card p-10 rounded-[2.5rem] group hover:border-emerald-500/50 transition-all">
                    <div class="w-14 h-14 bg-emerald-600/10 rounded-2xl mb-6 flex items-center justify-center text-emerald-500">üõ°Ô∏è</div>
                    <h3 class="font-black mb-4 uppercase tracking-widest text-sm text-white">Advanced Security</h3>
                    <p class="text-slate-500 text-sm leading-relaxed">Built-in DDoS protection and anti-bot heuristic analysis keeps your traffic high-quality.</p>
                </div>
                <div class="glass-card p-10 rounded-[2.5rem] group hover:border-indigo-500/50 transition-all">
                    <div class="w-14 h-14 bg-indigo-600/10 rounded-2xl mb-6 flex items-center justify-center text-indigo-500">üìä</div>
                    <h3 class="font-black mb-4 uppercase tracking-widest text-sm text-white">Elite Analytics</h3>
                    <p class="text-slate-500 text-sm leading-relaxed">Granular data on device types, geographic origin, and conversion ratios.</p>
                </div>
            </div>
        </section>

        <footer class="p-20 text-center border-t border-white/5">
            <div class="text-2xl font-black italic uppercase mb-8">KAMI<span class="text-blue-500">BOT</span></div>
            <p class="text-slate-600 text-xs font-bold uppercase tracking-widest">¬© 2026 KamiBot Infrastructure. Built on the Edge.</p>
        </footer>
    </div>

    <div id="authOverlay" class="fixed inset-0 z-[200] bg-slate-950/80 backdrop-blur-xl flex items-center justify-center p-6 opacity-0 pointer-events-none transition-opacity">
        <div class="glass-card p-10 rounded-[3rem] w-full max-w-md text-center">
            <button onclick="toggleAuthModal(false)" class="absolute top-8 right-8 text-slate-500">‚úï</button>
            <h2 class="text-2xl font-black italic uppercase mb-10">Console <span class="text-blue-500">Login</span></h2>
            <div class="grid grid-cols-2 gap-4 mb-6">
                <button id="googleBtn" disabled onclick="loginGoogle()" class="bg-white text-black font-bold py-4 rounded-2xl flex items-center justify-center gap-2 text-xs uppercase disabled:opacity-30"><img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="w-4"> Google</button>
                <button id="githubBtn" disabled onclick="loginGithub()" class="bg-slate-800 text-white font-bold py-4 rounded-2xl flex items-center justify-center gap-2 text-xs uppercase disabled:opacity-30"><img src="https://authjs.dev/img/providers/github.svg" class="w-4 invert"> GitHub</button>
            </div>
            <div class="space-y-3 mb-6">
                <input type="email" id="authEmail" placeholder="Email" class="w-full bg-slate-950 p-4 rounded-2xl border border-white/5 outline-none focus:border-blue-500 transition-all text-sm">
                <input type="password" id="authPass" placeholder="Password" class="w-full bg-slate-950 p-4 rounded-2xl border border-white/5 outline-none focus:border-blue-500 transition-all text-sm">
            </div>
            <div class="flex justify-center mb-6 scale-90">
                <div class="g-recaptcha" data-sitekey="6LeQe3QsAAAAAK36IFKpSotRATLT4u2iNRs3t2Ah" data-callback="onCaptchaVerified" data-theme="dark"></div>
            </div>
            <button id="loginBtn" disabled onclick="loginEmail()" class="w-full btn-primary py-4 rounded-2xl text-xs uppercase tracking-widest mb-6">Authorize Console</button>
            <div class="flex items-center gap-3 bg-white/5 p-4 rounded-2xl border border-white/5">
                <input type="checkbox" id="legalAgree" onchange="checkRequirements()" class="w-5 h-5 rounded border-none bg-slate-800 checked:bg-blue-500 cursor-pointer">
                <label for="legalAgree" class="text-[10px] text-slate-500 font-bold uppercase text-left">Agree to data usage & link protocols</label>
            </div>
        </div>
    </div>

    <div id="dashboard" class="hidden min-h-screen">
        <nav class="max-w-7xl mx-auto p-8 flex justify-between items-center">
            <div class="text-2xl font-black italic uppercase">KAMI<span class="text-blue-500">BOT</span></div>
            <div class="flex items-center gap-8">
                <div class="text-right hidden md:block">
                    <p id="userDisplay" class="text-[10px] font-black uppercase tracking-widest text-white"></p>
                    <p class="text-[9px] text-emerald-500 font-bold uppercase tracking-widest">Operator Level 1</p>
                </div>
                <button onclick="logout()" class="p-3 bg-white/5 hover:bg-red-500/10 hover:text-red-500 rounded-xl transition-all border border-white/5">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/></svg>
                </button>
            </div>
        </nav>

        <main class="max-w-7xl mx-auto px-6 grid grid-cols-1 lg:grid-cols-4 gap-8">
            <div class="lg:col-span-1 space-y-4">
                <div class="glass-card p-6 rounded-[2rem] flex flex-col gap-2">
                    <p class="text-[10px] font-black text-slate-600 uppercase tracking-widest mb-2 px-2">Navigation</p>
                    <button class="flex items-center gap-3 p-4 bg-blue-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest">
                        <span>üìä</span> Console Overview
                    </button>
                    <button class="flex items-center gap-3 p-4 hover:bg-white/5 text-slate-400 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all">
                        <span>üõ°Ô∏è</span> Security Logs
                    </button>
                    <button class="flex items-center gap-3 p-4 hover:bg-white/5 text-slate-400 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all">
                        <span>üìà</span> Traffic Matrix
                    </button>
                </div>

                <div class="glass-card p-6 rounded-[2rem] border-dashed border-white/10 flex items-center justify-center h-48">
                    <span class="text-[10px] font-black text-slate-800 uppercase vertical-text">Internal_Ad_Zone</span>
                </div>
            </div>

            <div class="lg:col-span-3 space-y-8">
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div class="glass-card p-6 rounded-[2rem]">
                        <p class="text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1">Links</p>
                        <h4 id="countTotal" class="text-3xl font-black">0</h4>
                    </div>
                    <div class="glass-card p-6 rounded-[2rem]">
                        <p class="text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1">Clicks</p>
                        <h4 class="text-3xl font-black text-blue-500">2.4k</h4>
                    </div>
                    <div class="glass-card p-6 rounded-[2rem]">
                        <p class="text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1">Avg Latency</p>
                        <h4 class="text-3xl font-black text-emerald-500">0.4<span class="text-xs ml-1 opacity-40">ms</span></h4>
                    </div>
                    <div class="glass-card p-6 rounded-[2rem]">
                        <p class="text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1">Security</p>
                        <h4 class="text-3xl font-black text-orange-500">100%</h4>
                    </div>
                </div>

                <div class="glass-card p-8 rounded-[3rem]">
                    <h3 class="text-xs font-black uppercase tracking-widest mb-6">Initialize New Protocol</h3>
                    <div class="flex flex-col md:flex-row gap-4">
                        <input type="url" id="longUrl" placeholder="https://destination-url.com" class="bg-slate-950/50 p-5 flex-1 rounded-2xl border border-white/5 outline-none focus:border-blue-500 text-sm">
                        
                        <div id="adminPanel" class="hidden flex items-center bg-blue-600/5 rounded-2xl px-4 border border-blue-600/20">
                            <span class="text-[9px] font-black text-blue-500 uppercase pr-3">Alias:</span>
                            <input type="text" id="customSlug" placeholder="taylorswift" class="bg-transparent py-4 text-xs font-bold text-white uppercase outline-none placeholder:text-slate-800">
                        </div>

                        <button onclick="createLink()" class="btn-primary px-12 py-5 rounded-2xl text-[10px] uppercase tracking-[0.2em]">Generate</button>
                    </div>
                </div>

                <div id="linksContainer" class="grid gap-4">
                    <div class="text-center py-20 opacity-20">
                        <p class="text-[10px] font-black uppercase tracking-[0.4em]">Querying Database Matrix...</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, onAuthStateChanged, signInWithPopup, GoogleAuthProvider, GithubAuthProvider, signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { getFirestore, collection, setDoc, getDoc, query, where, onSnapshot, doc, deleteDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = { 
            apiKey: "AIzaSyAuTU6BV_uxz56NYiJioV2NJ7Wk_wMhL0g",
            authDomain: "kamibotclick.firebaseapp.com",
            projectId: "kamibotclick",
            storageBucket: "kamibotclick.firebasestorage.app",
            messagingSenderId: "112587834193",
            appId: "1:112587834193:web:c3fb8e45f24b874edf8970" 
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        const MASTER_UID = "5kQjEGUB6mXxUhcO1LqZE2VZFon1";
        let captchaVerified = false;

        window.toggleAuthModal = (show) => {
            const modal = document.getElementById('authOverlay');
            modal.style.opacity = show ? '1' : '0';
            modal.style.pointerEvents = show ? 'auto' : 'none';
        };

        window.onCaptchaVerified = () => { captchaVerified = true; checkRequirements(); };
        window.checkRequirements = () => {
            const ok = document.getElementById('legalAgree').checked && captchaVerified;
            ['googleBtn', 'githubBtn', 'loginBtn'].forEach(id => document.getElementById(id).disabled = !ok);
        };

        onAuthStateChanged(auth, (user) => {
            const landing = document.getElementById('landingPage');
            const dashboard = document.getElementById('dashboard');
            if (user) {
                landing.classList.add('hidden');
                dashboard.classList.remove('hidden');
                toggleAuthModal(false);
                document.getElementById('userDisplay').innerText = user.email || user.displayName;
                document.getElementById('adminPanel').classList.toggle('hidden', user.uid !== MASTER_UID);
                loadLinks(user.uid);
            } else {
                landing.classList.remove('hidden');
                dashboard.classList.add('hidden');
            }
        });

        window.createLink = async () => {
            const urlInput = document.getElementById('longUrl');
            const customInput = document.getElementById('customSlug');
            const user = auth.currentUser;
            let target = urlInput.value.trim();
            if(!target) return;
            if (!/^https?:\/\//i.test(target)) target = 'https://' + target;

            let slug = Math.random().toString(36).substring(2, 7);
            if (user.uid === MASTER_UID && customInput.value.trim() !== "") {
                slug = customInput.value.trim().toLowerCase().replace(/[^a-z0-9-_]/g, '');
            }

            try {
                const docRef = doc(db, "links", slug);
                const snap = await getDoc(docRef);
                if (snap.exists()) return alert("Alias Taken");
                await setDoc(docRef, { target: target, slug: slug, userId: user.uid, clicks: 0, createdAt: serverTimestamp() });
                urlInput.value = ''; customInput.value = '';
            } catch (e) { console.error(e); }
        };

        function loadLinks(uid) {
            const q = query(collection(db, "links"), where("userId", "==", uid));
            onSnapshot(q, (snap) => {
                const container = document.getElementById('linksContainer');
                document.getElementById('countTotal').innerText = snap.size;
                container.innerHTML = '';
                if(snap.empty) {
                    container.innerHTML = `<div class="p-20 text-center text-slate-700 text-[10px] font-black uppercase tracking-widest border border-dashed border-white/5 rounded-[2.5rem]">No Active Protocols Found</div>`;
                    return;
                }
                snap.forEach((d) => {
                    const data = d.data();
                    const shortUrl = `${window.location.origin}/go/${data.slug}`;
                    container.innerHTML += `
                        <div class="glass-card p-6 rounded-[2rem] flex flex-col md:flex-row items-center justify-between gap-6 hover:bg-white/[0.03] transition-all">
                            <div class="flex-1 min-w-0">
                                <div class="flex items-center gap-3 mb-1">
                                    <span class="text-blue-500 font-black text-[10px] uppercase">/${data.slug}</span>
                                    <span class="text-slate-600 font-bold text-[9px] uppercase truncate max-w-[200px]">${data.target}</span>
                                </div>
                                <h4 class="text-white font-bold text-sm truncate tracking-tight">${shortUrl}</h4>
                            </div>
                            <div class="flex gap-2 shrink-0">
                                <button onclick="navigator.clipboard.writeText('${shortUrl}')" class="bg-white text-black px-6 py-3 rounded-xl font-black uppercase tracking-widest text-[9px] hover:bg-blue-500 hover:text-white transition-all">Copy</button>
                                <button onclick="deleteDoc(doc(db, 'links', '${data.slug}'))" class="p-3 bg-red-500/5 text-red-500 hover:bg-red-500 hover:text-white rounded-xl transition-all border border-red-500/10 text-xs">‚úï</button>
                            </div>
                        </div>`;
                });
            });
        }

        window.loginGoogle = () => signInWithPopup(auth, new GoogleAuthProvider());
        window.loginGithub = () => signInWithPopup(auth, new GithubAuthProvider());
        window.loginEmail = () => signInWithEmailAndPassword(auth, authEmail.value, authPass.value).catch(e => alert(e.message));
        window.logout = () => signOut(auth);
    </script>
    <script src="//code.tidio.co/sun54z8bwa6q5lliehue9xsynflzvm7k.js" async></script>
</body>
</html>
